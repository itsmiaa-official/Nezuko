(function (_0x3d5ccb, _0x2e623c) {
    const _0x2ffba5 = _0x11aa, _0x4b9557 = _0x3d5ccb();
    while (!![]) {
        try {
            const _0x432393 = parseInt(_0x2ffba5(0x96)) / (-0xa49 + 0x1dde + 0x2cc * -0x7) * (parseInt(_0x2ffba5(0xb9)) / (0x5 * 0x656 + -0x55 * -0xd + 0x25 * -0xf9)) + -parseInt(_0x2ffba5(0xbf)) / (-0x1e6a + -0x2615 + 0xb6b * 0x6) * (parseInt(_0x2ffba5(0x98)) / (-0x1ec5 + 0xa99 * 0x1 + -0x11 * -0x130)) + parseInt(_0x2ffba5(0xbc)) / (0xe9e + 0x2453 + -0x32ec) * (parseInt(_0x2ffba5(0x97)) / (0x1472 + -0x1 * -0x1657 + -0x2ac3)) + parseInt(_0x2ffba5(0x81)) / (0x1 * -0x165b + 0xeaa * 0x2 + -0x6f2) + parseInt(_0x2ffba5(0xaf)) / (-0x47f + 0x1ff3 * -0x1 + -0x3a * -0xa1) * (parseInt(_0x2ffba5(0x83)) / (0x1993 * 0x1 + 0x71 * -0xd + -0x1 * 0x13cd)) + parseInt(_0x2ffba5(0xb6)) / (0x4d5 + -0x108 * -0x7 + -0xf * 0xcd) * (parseInt(_0x2ffba5(0x82)) / (0x1b0 + 0x1 * 0x82f + -0x9d4)) + -parseInt(_0x2ffba5(0x74)) / (-0xf0b + -0x69d * -0x1 + -0xd9 * -0xa);
            if (_0x432393 === _0x2e623c)
                break;
            else
                _0x4b9557['push'](_0x4b9557['shift']());
        } catch (_0x617b03) {
            _0x4b9557['push'](_0x4b9557['shift']());
        }
    }
}(_0x593f, 0x5918e + -0x1d5 * 0x89 + 0x458ac));
import _0x1021b4 from 'fs';
import { tmpdir } from 'os';
import _0x406bd3 from 'crypto';
import _0xabf0c1 from 'fluent-ffmpeg';
import _0x5120a4 from 'node-webpmux';
import _0x50f53b from 'path';
function createTmpFile(_0x20524b) {
    const _0x467a9a = _0x11aa, _0x42d187 = {
            'vWxkq': function (_0x553ce0) {
                return _0x553ce0();
            }
        };
    return _0x50f53b['join'](_0x42d187['vWxkq'](tmpdir), _0x406bd3[_0x467a9a(0x77)](0x3bb + 0x997 + -0x6a6 * 0x2)['readUIntLE'](0x8 * 0x166 + 0x19f9 + -0x2529, -0x1 * 0x456 + -0x1504 + 0x10 * 0x196)[_0x467a9a(0xa3)](-0x277 * -0xa + -0x1352 * -0x1 + -0x2bd4) + '.' + _0x20524b);
}
function _0x11aa(_0x4cd256, _0x2087b4) {
    _0x4cd256 = _0x4cd256 - (0x1362 + 0x1cd2 + 0x98e * -0x5);
    const _0x400f2a = _0x593f();
    let _0xdcada0 = _0x400f2a[_0x4cd256];
    return _0xdcada0;
}
async function imageToWebp(_0x3c6927) {
    const _0x499e9a = _0x11aa, _0x3e33a9 = {
            'AgtAW': function (_0x2835f3, _0x49c8d9) {
                return _0x2835f3(_0x49c8d9);
            },
            'mPcoR': _0x499e9a(0x99),
            'YbwAE': 'libwebp',
            'RUqtt': _0x499e9a(0x93),
            'auQKV': _0x499e9a(0x72),
            'aqTgz': _0x499e9a(0x71),
            'Siyjc': function (_0x38b43d) {
                return _0x38b43d();
            },
            'IrqGf': function (_0x4d61ea, _0x14d7f0) {
                return _0x4d61ea(_0x14d7f0);
            },
            'uqhmk': function (_0x4dde64, _0x3c7cd9) {
                return _0x4dde64 !== _0x3c7cd9;
            },
            'WZNlX': _0x499e9a(0x86),
            'SZCWl': _0x499e9a(0xa6)
        }, _0x43ba4d = _0x3e33a9[_0x499e9a(0x7e)](createTmpFile, _0x3e33a9['aqTgz']), _0x7627c3 = createTmpFile(_0x499e9a(0x85));
    try {
        if (_0x3e33a9[_0x499e9a(0xbd)](_0x3e33a9[_0x499e9a(0x8b)], _0x3e33a9['SZCWl'])) {
            await _0x1021b4[_0x499e9a(0x73)][_0x499e9a(0x75)](_0x7627c3, _0x3c6927), await new Promise((_0x1fa5eb, _0x4b6f6b) => {
                const _0x78415b = _0x499e9a;
                _0x3e33a9[_0x78415b(0x9d)](_0xabf0c1, _0x7627c3)['on'](_0x3e33a9[_0x78415b(0x90)], _0x4b6f6b)['on'](_0x78415b(0xac), _0x1fa5eb)[_0x78415b(0x8a)]([
                    _0x78415b(0xb2),
                    _0x3e33a9[_0x78415b(0x6f)],
                    _0x3e33a9['RUqtt'],
                    _0x3e33a9[_0x78415b(0x9c)]
                ])[_0x78415b(0xbb)](_0x3e33a9[_0x78415b(0x9b)])[_0x78415b(0x9f)](_0x43ba4d);
            });
            const _0x30bd74 = await _0x1021b4[_0x499e9a(0x73)][_0x499e9a(0x91)](_0x43ba4d);
            return await _0x1021b4[_0x499e9a(0x73)][_0x499e9a(0x94)](_0x43ba4d), await _0x1021b4[_0x499e9a(0x73)][_0x499e9a(0x94)](_0x7627c3), _0x30bd74;
        } else
            return _0xf11a0b['join'](_0x3e33a9[_0x499e9a(0x89)](_0x85aa7), _0x496dd['randomBytes'](0x1be4 + -0x19c3 * -0x1 + -0x35a1)['readUIntLE'](0x15ec + -0x785 * 0x4 + 0x828, -0x15 * -0x24 + 0x119a + 0x18 * -0xdb)[_0x499e9a(0xa3)](0x101 * -0x2 + 0x643 * 0x5 + -0x1d29) + '.' + _0x36561d);
    } catch (_0x1ef092) {
        console[_0x499e9a(0x99)](_0x499e9a(0xb4), _0x1ef092);
        throw _0x1ef092;
    }
}
async function videoToWebp(_0x57d4c7) {
    const _0x56e872 = _0x11aa, _0x1b5d51 = {
            'FuaNW': function (_0x5004a2, _0x4164a2) {
                return _0x5004a2(_0x4164a2);
            },
            'sdduD': _0x56e872(0x99),
            'Elcfd': _0x56e872(0xac),
            'Khzgh': 'libwebp',
            'FWPdG': _0x56e872(0x93),
            'JXShO': _0x56e872(0xa2),
            'rOCzy': _0x56e872(0x7d),
            'KBYIM': _0x56e872(0x80),
            'YVfZW': _0x56e872(0xab),
            'GDsVL': _0x56e872(0x76),
            'nuggE': '-vsync',
            'DXArA': _0x56e872(0x71),
            'FLruE': function (_0x70c8f1, _0x2a8504) {
                return _0x70c8f1(_0x2a8504);
            },
            'kuWPn': _0x56e872(0xbe)
        }, _0xae7b = createTmpFile(_0x1b5d51['DXArA']), _0x23ff43 = _0x1b5d51[_0x56e872(0x78)](createTmpFile, _0x1b5d51[_0x56e872(0x95)]);
    try {
        await _0x1021b4[_0x56e872(0x73)][_0x56e872(0x75)](_0x23ff43, _0x57d4c7), await new Promise((_0x231f6e, _0x2ade71) => {
            const _0x3ff866 = _0x56e872;
            _0x1b5d51[_0x3ff866(0x84)](_0xabf0c1, _0x23ff43)['on'](_0x1b5d51[_0x3ff866(0x6e)], _0x2ade71)['on'](_0x1b5d51[_0x3ff866(0x70)], _0x231f6e)['addOutputOptions']([
                _0x3ff866(0xb2),
                _0x1b5d51[_0x3ff866(0x9e)],
                _0x1b5d51['FWPdG'],
                _0x3ff866(0x72),
                '-loop',
                '0',
                _0x3ff866(0x8f),
                _0x1b5d51['JXShO'],
                '-t',
                _0x1b5d51[_0x3ff866(0xb7)],
                _0x1b5d51[_0x3ff866(0x8c)],
                _0x1b5d51[_0x3ff866(0x8e)],
                _0x1b5d51[_0x3ff866(0x79)],
                _0x1b5d51['nuggE'],
                '0'
            ])[_0x3ff866(0xbb)](_0x1b5d51[_0x3ff866(0x9a)])['save'](_0xae7b);
        });
        const _0x16d856 = await _0x1021b4[_0x56e872(0x73)][_0x56e872(0x91)](_0xae7b);
        return await _0x1021b4['promises'][_0x56e872(0x94)](_0xae7b), await _0x1021b4[_0x56e872(0x73)][_0x56e872(0x94)](_0x23ff43), _0x16d856;
    } catch (_0x52f649) {
        console[_0x56e872(0x99)](_0x56e872(0xba), _0x52f649);
        throw _0x52f649;
    }
}
async function writeExifImg(_0x187ebb, _0xb1bc9e) {
    const _0x12cf04 = _0x11aa, _0x384553 = {
            'XWKXy': function (_0x35575e, _0x4f2e03) {
                return _0x35575e(_0x4f2e03);
            },
            'gJNcd': function (_0x3e693f, _0x553075) {
                return _0x3e693f(_0x553075);
            },
            'BQLrT': _0x12cf04(0x71),
            'egeDb': 'https://github.com/DikaArdnt/Hisoka-Morou',
            'fQrdx': _0x12cf04(0xa9)
        };
    let _0x41d7db = await _0x384553[_0x12cf04(0xc0)](imageToWebp, _0x187ebb);
    const _0x8cbd06 = _0x384553['gJNcd'](createTmpFile, _0x384553['BQLrT']), _0x2a5325 = _0x384553[_0x12cf04(0xc0)](createTmpFile, _0x384553[_0x12cf04(0xad)]);
    try {
        await _0x1021b4[_0x12cf04(0x73)][_0x12cf04(0x75)](_0x8cbd06, _0x41d7db);
        if (!(_0xb1bc9e['packname'] || _0xb1bc9e[_0x12cf04(0xa7)]))
            return _0x41d7db;
        const _0x26e062 = new _0x5120a4[(_0x12cf04(0xb5))](), _0x2d02e8 = {
                'sticker-pack-id': _0x384553[_0x12cf04(0x87)],
                'sticker-pack-name': _0xb1bc9e['packname'],
                'sticker-pack-publisher': _0xb1bc9e['author'],
                'emojis': _0xb1bc9e['categories'] ? _0xb1bc9e[_0x12cf04(0x7a)] : ['']
            }, _0x268b83 = Buffer[_0x12cf04(0x88)]([
                -0x16 * -0x172 + 0x85f * -0x1 + 0x5c9 * -0x4,
                -0xb * -0x229 + 0x2394 + -0x3b0e * 0x1,
                0x1996 + -0x1 * 0x1250 + 0x5b * -0x14,
                0xd3f * -0x1 + 0x2 * -0xa7f + -0x5 * -0x6d9,
                -0x55c + 0xbe7 + -0x683,
                -0x87d + -0x6a * -0x5 + 0x66b,
                -0x61e + 0x21f9 + 0x949 * -0x3,
                0x33 * 0x43 + -0x1669 + 0x28 * 0x3a,
                -0x1b2 + 0x10b5 + -0xf02,
                -0x1 * 0x1282 + 0xd * -0x7f + 0x18f5,
                0xef5 + 0x119 * -0x1 + -0xd9b,
                0x1 * 0xc73 + 0xf * -0x16 + -0x5 * 0x22a,
                -0x7b + 0x7 * -0x3d8 + 0x1b6a,
                0x1de9 + -0x1b77 + 0x1 * -0x272,
                0x1615 + -0x9a * -0x5 + 0x85d * -0x3,
                -0x1 * -0x5bd + -0x2592 + 0x1fd5,
                -0x4 * -0x3ba + -0x1aae + 0xbc6,
                -0x177 * -0x5 + -0x15be + 0xe6b,
                -0x4 * 0x830 + 0x221e + -0x148,
                0xb09 + 0x3 * -0x45e + 0x1 * 0x211,
                0x2559 * -0x1 + 0x1f56 + 0x603,
                0x2 * -0x3b + 0x11f * -0x1 + -0x2d * -0x9
            ]), _0x2f25a6 = Buffer[_0x12cf04(0x88)](JSON[_0x12cf04(0x7f)](_0x2d02e8), _0x384553['fQrdx']), _0x5b92ba = Buffer['concat']([
                _0x268b83,
                _0x2f25a6
            ]);
        return _0x5b92ba['writeUIntLE'](_0x2f25a6['length'], -0x1 * 0x7e3 + -0x81 * -0x2b + -0x6dd * 0x2, 0x5fb + -0x2 * -0xfaa + -0x254b), await _0x26e062[_0x12cf04(0xae)](_0x8cbd06), await _0x1021b4[_0x12cf04(0x73)][_0x12cf04(0x94)](_0x8cbd06), _0x26e062[_0x12cf04(0xa1)] = _0x5b92ba, await _0x26e062[_0x12cf04(0x9f)](_0x2a5325), _0x2a5325;
    } catch (_0x5e824e) {
        console[_0x12cf04(0x99)](_0x12cf04(0x92), _0x5e824e);
        throw _0x5e824e;
    }
}
async function writeExifVid(_0x7a04a2, _0x4d4af0) {
    const _0x65890d = _0x11aa, _0x5372e4 = {
            'rftjJ': _0x65890d(0xba),
            'VbEEQ': function (_0x364abd, _0x29ec72) {
                return _0x364abd(_0x29ec72);
            },
            'zJoSU': _0x65890d(0x71),
            'ElKsj': function (_0x4e6e81, _0x10e0c6) {
                return _0x4e6e81 !== _0x10e0c6;
            },
            'nrYXd': _0x65890d(0xa5),
            'NzKMM': _0x65890d(0xa4),
            'NkEuK': _0x65890d(0xa9),
            'LEJlV': 'Error\x20writing\x20EXIF\x20to\x20video:'
        };
    let _0x9ab462 = await _0x5372e4[_0x65890d(0x8d)](videoToWebp, _0x7a04a2);
    const _0x2f2630 = _0x5372e4['VbEEQ'](createTmpFile, _0x5372e4[_0x65890d(0xb8)]), _0x1120d8 = _0x5372e4[_0x65890d(0x8d)](createTmpFile, _0x5372e4[_0x65890d(0xb8)]);
    try {
        if (_0x5372e4[_0x65890d(0xa0)]('wcRzc', _0x5372e4[_0x65890d(0xb0)])) {
            await _0x1021b4[_0x65890d(0x73)][_0x65890d(0x75)](_0x2f2630, _0x9ab462);
            if (!(_0x4d4af0['packname'] || _0x4d4af0[_0x65890d(0xa7)])) {
                if (_0x5372e4[_0x65890d(0x7c)] !== _0x5372e4[_0x65890d(0x7c)]) {
                    _0x34473b[_0x65890d(0x99)]('Error\x20writing\x20EXIF\x20to\x20image:', _0x53ee7d);
                    throw _0x4d702e;
                } else
                    return _0x9ab462;
            }
            const _0x5922d2 = new _0x5120a4[(_0x65890d(0xb5))](), _0x42dc91 = {
                    'sticker-pack-id': _0x65890d(0xa8),
                    'sticker-pack-name': _0x4d4af0[_0x65890d(0x7b)],
                    'sticker-pack-publisher': _0x4d4af0['author'],
                    'emojis': _0x4d4af0['categories'] ? _0x4d4af0[_0x65890d(0x7a)] : ['']
                }, _0x134345 = Buffer[_0x65890d(0x88)]([
                    0x26eb * -0x1 + 0x29 * -0xb7 + 0x4483 * 0x1,
                    0x2180 + 0x35 * 0xd + -0x2fe * 0xc,
                    -0x49 * -0x9 + 0x1863 + -0x1b * 0xfe,
                    0xb * -0x305 + -0x6fc + 0x2833,
                    0x8cd + -0xe2 * -0x11 + -0x17c7,
                    0x20ef + -0x2 * 0x8a + 0x7 * -0x48d,
                    -0x39 * -0x9d + 0x4a * -0x6b + -0x407,
                    0x52f * 0x1 + -0x1 * 0x12eb + 0xdbc,
                    0x13 * -0x199 + -0xe * 0xd5 + 0x2a02,
                    0x1d86 * 0x1 + -0x224f + -0xaf * -0x7,
                    -0x1e3 + -0xe96 + -0x2 * -0x85d,
                    0x25b + -0x55d * -0x3 + -0x121b,
                    -0x1b00 + -0x228 * 0x1 + 0xf1 * 0x1f,
                    0xd24 + -0xc8b + -0x99,
                    -0x227a * 0x1 + -0x16d7 + 0x3951,
                    0xda * -0x11 + 0x7 * 0xe3 + -0x1d * -0x49,
                    -0x7ae * 0x5 + 0x1 * -0x3ce + -0x4a * -0x92,
                    -0x230f + 0x44d + 0x1 * 0x1ec2,
                    0x3 * 0x4bd + -0x115e + 0x33d,
                    0x1 * -0x4a3 + -0x2 * -0xfb5 + -0x1ac7,
                    -0xd0f * -0x1 + -0x6f5 * 0x2 + -0x3 * -0x49,
                    -0x14da + 0xb75 + 0x1 * 0x965
                ]), _0x18b9d7 = Buffer[_0x65890d(0x88)](JSON[_0x65890d(0x7f)](_0x42dc91), _0x5372e4['NkEuK']), _0x4fda98 = Buffer['concat']([
                    _0x134345,
                    _0x18b9d7
                ]);
            return _0x4fda98[_0x65890d(0xaa)](_0x18b9d7[_0x65890d(0xb1)], 0x70e + 0x23a1 + 0x617 * -0x7, -0x7 * 0x125 + 0xc42 + -0x43b * 0x1), await _0x5922d2[_0x65890d(0xae)](_0x2f2630), await _0x1021b4[_0x65890d(0x73)][_0x65890d(0x94)](_0x2f2630), _0x5922d2['exif'] = _0x4fda98, await _0x5922d2[_0x65890d(0x9f)](_0x1120d8), _0x1120d8;
        } else {
            _0x287611[_0x65890d(0x99)](_0x5372e4['rftjJ'], _0x2fbf8f);
            throw _0x4c0c77;
        }
    } catch (_0x6ae480) {
        console['error'](_0x5372e4[_0x65890d(0xb3)], _0x6ae480);
        throw _0x6ae480;
    }
}
export default {
    'imageToWebp': imageToWebp,
    'videoToWebp': videoToWebp,
    'writeExifImg': writeExifImg,
    'writeExifVid': writeExifVid
};
function _0x593f() {
    const _0x5cce8f = [
        'IrqGf',
        'stringify',
        '-preset',
        '2017281vNkiGB',
        '110jyvcYh',
        '32463EleCJv',
        'FuaNW',
        'jpg',
        'YqQjH',
        'egeDb',
        'from',
        'Siyjc',
        'addOutputOptions',
        'WZNlX',
        'KBYIM',
        'VbEEQ',
        'YVfZW',
        '-ss',
        'mPcoR',
        'readFile',
        'Error\x20writing\x20EXIF\x20to\x20image:',
        '-vf',
        'unlink',
        'kuWPn',
        '332702DtRoYw',
        '666BEUtAa',
        '364yTzNLb',
        'error',
        'DXArA',
        'aqTgz',
        'auQKV',
        'AgtAW',
        'Khzgh',
        'save',
        'ElKsj',
        'exif',
        '00:00:00',
        'toString',
        'nfaHW',
        'WVGmq',
        'XGNHL',
        'author',
        'https://dikode-team.com',
        'utf-8',
        'writeUIntLE',
        'default',
        'end',
        'BQLrT',
        'load',
        '1128otzxvI',
        'nrYXd',
        'length',
        '-vcodec',
        'LEJlV',
        'Error\x20converting\x20image\x20to\x20webp:',
        'Image',
        '437290bSJIPG',
        'rOCzy',
        'zJoSU',
        '2luSXKk',
        'Error\x20converting\x20video\x20to\x20webp:',
        'toFormat',
        '9850UHVTMZ',
        'uqhmk',
        'mp4',
        '15906JwXwkJ',
        'XWKXy',
        'sdduD',
        'YbwAE',
        'Elcfd',
        'webp',
        'scale=\x27min(320,iw)\x27:min(320,ih):force_original_aspect_ratio=decrease,fps=15,\x20pad=320:320:-1:-1:color=white@0.0,\x20split\x20[a][b];\x20[a]\x20palettegen=reserve_transparent=on:transparency_color=ffffff\x20[p];\x20[b][p]\x20paletteuse',
        'promises',
        '8609004YsmvZG',
        'writeFile',
        '-an',
        'randomBytes',
        'FLruE',
        'GDsVL',
        'categories',
        'packname',
        'NzKMM',
        '00:00:05'
    ];
    _0x593f = function () {
        return _0x5cce8f;
    };
    return _0x593f();
}